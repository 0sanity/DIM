<div ng-controller="dimSettingsCtrl as vm">
  <h1>Einstellungen</h1>
  <div class="ngdialog-inner-content">
<!--  <input ng-if='vm.showSync()' type='button' class='btn' ng-click='vm.driveSync()' value='Sync with Drive' />-->
  <form class="settings">
    <table>
      <tr>
        <td>
          <label for="language">Sprache (lade DIM neu zum Übernehmnen)</label>
        </td>
        <td>
          <select id="language" ng-model="vm.settings.language" ng-options="code as name for (code, name) in vm.languageOptions" required></select>
        </td>
      </tr>
      <tr>
        <td>
          <label for="condensedItems" title="Gegenstände, die nicht zum Filter passen, werden ausgeblendet.">Zeige nur die Suchergebnisse beim Filtern</label>
        </td>
        <td>
          <input type="checkbox" ng-model="vm.settings.hideFilteredItems"/>
        </td>
      </tr>
      <tr>
        <td>
          <label for="details" title="Ein Klick auf einen Gegenstand öffnet ein Popup, welches erweitert werden kann, um Details zu Statistiken und Perks zu zeigen. Diese Option wird immer diese Details zeigen, wenn du auf einen Gegenstand klickst.">Zeige immer Details der Gegenstände</label>
        </td>
        <td>
          <input type="checkbox" id="details" ng-model="vm.settings.itemDetails"/>
        </td>
      </tr>
      <tr ng-if="vm.featureFlags.qualityEnabled">
        <td>
          <label for="itemQuality" title="Ermöglicht erweiterte Min/Max-Funktionen im Verschieben-Dialog und aktiviert die Rüstungsvergleichsansicht.">Aktivieren der erweiterten Statusvergleichsfunktionen</label>
        </td>
        <td>
          <input type="checkbox" id="itemQuality" ng-model="vm.settings.itemQuality"/>
        </td>
      </tr>
      <tr>
        <td>
          <label for="showNewItems" title="Zeigt neue Gegenstände mit einem hellen Overlay an.">Zeige neue Gegenstände mit einem Overlay.</label>
        </td>
        <td>
          <input type="checkbox" id="showNewItems" ng-model="vm.settings.showNewItems"/>
        </td>
      </tr>
      <tr ng-if="vm.settings.showNewItems">
        <td>
          <label for="showNewAnimation" title="Zeigt ein animiertes Overlay bei neuen Gegenständen an. Abschalten verringert die CPU Auslastung.">Zeige animiertes Overlay bei neuen Gegenständen an.</label>
        </td>
        <td>
          <input type="checkbox" id="showNewAnimation" ng-model="vm.settings.showNewAnimation"/>
        </td>
      </tr>
      <tr>
        <td>
          <label for="showElements" title="Zeigt den Elementarschaden bei Waffen an.">Zeige Elementarschaden bei Waffen an</label>
        </td>
        <td>
          <input type="checkbox" id="showElements" ng-model="vm.settings.showElements"/>
        </td>
      </tr>
      <tr>
        <td>
          <label for="itemSort" title="Sortieren von Gegenständen nach Seltenheit oder ihrem primären Statuswert.">Sortiere Gegenstände nach:</label>
        </td>
        <td>
          <label>
            <input type="radio" ng-model="vm.settings.itemSort" value="primaryStat">Primären Stat</label>
          <br>
          <label>
            <input type="radio" ng-model="vm.settings.itemSort" value="rarityThenPrimary">Seltenheit</label>
          <br>
          <label ng-show="vm.settings.itemQuality">
            <input type="radio" ng-model="vm.settings.itemSort" value="quality">Stat-Roll Prozent</label>
        </td>
      </tr>
      <tr>
        <td>
          <label for="charCol" title="Wähle die Anzahl der Spalten für das Charakter Inventar.">Charakter Inventar Spalten</label>
        </td>
        <td>
          <select id="charCol" ng-model="vm.settings.charCol" ng-options="option.id as option.name for option in vm.charColOptions" required></select>
        </td>
      </tr>
      <tr>
        <td>
          <label for="charCol" title="Wähle die maximale Anzahl von Spalten für den Tresor aus.">Maximale Anzahl von Spalten des Tresors</label>
        </td>
        <td>
          <select id="charCol" ng-model="vm.settings.vaultMaxCol" ng-options="option.id as option.name for option in vm.vaultColOptions" required></select>
        </td>
      </tr>
      <tr>
        <td>
          <label for="itemSize" title="Wie groß sollen die Gegenstände sein?">Gegenstände Größe</label>
        </td>
        <td>
          <input ng-model="vm.settings.itemSize" type="range" min="38" max="66" ng-change="vm.save()" /> <button ng-click="vm.settings.itemSize = 44">Zurücksetzen auf Standard</button>
        </td>
      </tr>
      <tr>
        <td>
          <label title="Charakter können nach dem letzten Login oder ihrem Erstelldatum sortiert werden.">Charakter Reihenfolge</label>
        </td>
        <td>
          <label>
            <input type="radio" ng-model="vm.settings.characterOrder" value="mostRecent" ng-model-options="{ updateOn: 'default blur' }">Nach zuletzt aktivem Charakter</label>
            <br>
          <label>
            <input type="radio" ng-model="vm.settings.characterOrder" value="mostRecentReverse" ng-model-options="{ updateOn: 'default blur' }">Nach zuletzt aktivem Charakter (umgedreht)</label>
            <br>
          <label>
            <input type="radio" ng-model="vm.settings.characterOrder" value="fixed" ng-model-options="{ updateOn: 'default blur' }">Fest (Nach Alter des Charakters)</label>
        </td>
      </tr>
      <tr>
        <td>
          <label for="spreadsheetLinks" tite="Lade eine CSV-Tabelle von deinen Gegenständen, die leicht mit jedem Tabellenprogramm angezeigt werden kann.">Lade Tabelle herunter</label>
        </td>
        <td>
          <div id="spreadsheetLinks">
            <button ng-click="vm.downloadWeaponCsv()" ng-disabled="loadingTracker.active()" title="Download Csv"> <i class="fa fa-table"></i> <span translate="Bucket.Weapons"></span></button>
            <button ng-click="vm.downloadArmorCsv()" ng-disabled="loadingTracker.active()" title="Download Csv"> <i class="fa fa-table"></i> <span translate="Bucket.Armor"></span></button>
          </div>
        </td>
      </tr>
      <tr>
        <td>
          <label for="resetHiddenInfos">DIM Info Popups</label>
        </td>
        <td>
          <button ng-click="vm.resetHiddenInfos()">Zeige zuvor versteckte Info Tipps</button>
        </td>
      </tr>
    </table>
  </form>
  </div>
</div>
