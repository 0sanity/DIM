<div ng-controller="dimSettingsCtrl as vm">
  <h1 translate>Settings</h1>
  <div class="ngdialog-inner-content">
<!--  <input ng-if='vm.showSync()' type='button' class='btn' ng-click='vm.driveSync()' value='Sync with Drive' />-->
  <form class="settings">
    <table>
      <tr>
        <td>
          <label for="language" translate>Language</label>
        </td>
        <td>
          <select id="language" ng-model="vm.settings.language" ng-options="code as name for (code, name) in vm.languageOptions" required></select>
        </td>
      </tr>
      <tr>
        <td>
          <label for="condensedItems" translate-attr="{ title: 'HideUnfilteredHelp'}" translate>HideUnfiltered</label>
        </td>
        <td>
          <input type="checkbox" ng-model="vm.settings.hideFilteredItems"/>
        </td>
      </tr>
      <tr>
        <td>
          <label for="details" translate-attr="{ title: 'AlwaysShowDetailsHelp'}" translate>AlwaysShowDetails</label>
        </td>
        <td>
          <input type="checkbox" id="details" ng-model="vm.settings.itemDetails"/>
        </td>
      </tr>
      <tr ng-if="vm.featureFlags.qualityEnabled">
        <td>
          <label for="itemQuality" translate-attr="{ title: 'EnableAdvancedStatsHelp'}" translate>EnableAdvancedStats</label>
        </td>
        <td>
          <input type="checkbox" id="itemQuality" ng-model="vm.settings.itemQuality"/>
        </td>
      </tr>
      <tr>
        <td>
          <label for="showNewItems" translate-attr="{ title: 'ShowOverlayHelp'}" translate>ShowOverlay</label>
        </td>
        <td>
          <input type="checkbox" id="showNewItems" ng-model="vm.settings.showNewItems"/>
        </td>
      </tr>
      <tr ng-if="vm.settings.showNewItems">
        <td>
          <label for="showNewAnimation" translate-attr="{ title: 'ShowAnimationsHelp'}" translate>ShowAnimations</label>
        </td>
        <td>
          <input type="checkbox" id="showNewAnimation" ng-model="vm.settings.showNewAnimation"/>
        </td>
      </tr>
      <tr>
        <td>
          <label for="showElements" translate-attr="{ title: 'ShowElementalHelp'}" translate>ShowElemental</label>
        </td>
        <td>
          <input type="checkbox" id="showElements" ng-model="vm.settings.showElements"/>
        </td>
      </tr>
      <tr>
        <td>
          <label for="itemSort" translate-attr="{ title: 'SetSortHelp'}" translate>SetSort</label>
        </td>
        <td>
          <label>
            <input type="radio" ng-model="vm.settings.itemSort" value="primaryStat"><span translate>SortPrimary</span></label>
          <br>
          <label>
            <input type="radio" ng-model="vm.settings.itemSort" value="rarityThenPrimary"><span translate>SortRarity</span></label>
          <br>
          <label ng-show="vm.settings.itemQuality">
            <input type="radio" ng-model="vm.settings.itemSort" value="quality"><span translate>SortRoll</span></label>
        </td>
      </tr>
      <tr>
        <td>
          <label for="charCol" translate-attr="{ title: 'InventoryColumnsHelp'}" translate>InventoryColumns</label>
        </td>
        <td>
          <select id="charCol" ng-model="vm.settings.charCol" ng-options="option.id as option.name for option in vm.charColOptions" required></select>
        </td>
      </tr>
      <tr>
        <td>
          <label for="charCol" translate-attr="{ title: 'VaultColumnsHelp'}" translate>VaultColumns</label>
        </td>
        <td>
          <select id="charCol" ng-model="vm.settings.vaultMaxCol" ng-options="option.id as option.name for option in vm.vaultColOptions" required></select>
        </td>
      </tr>
      <tr>
        <td>
          <label for="itemSize" translate-attr="{ title: 'SizeItemHelp'}" translate>SizeItem</label>
        </td>
        <td>
          <input ng-model="vm.settings.itemSize" type="range" min="38" max="66" ng-change="vm.save()" /> <button ng-click="vm.settings.itemSize = 44" translate>ResetToDefault</button>
        </td>
      </tr>
      <tr>
        <td>
          <label translate-attr="{ title: 'CharacterOrderHelp'}" translate>CharacterOrder</label>
        </td>
        <td>
          <label>
            <input type="radio" ng-model="vm.settings.characterOrder" value="mostRecent" ng-model-options="{ updateOn: 'default blur' }"><span translate>CharacterOrderRecent</span></label>
            <br>
          <label>
            <input type="radio" ng-model="vm.settings.characterOrder" value="mostRecentReverse" ng-model-options="{ updateOn: 'default blur' }"><span translate>CharacterOrderReversed</span></label>
            <br>
          <label>
            <input type="radio" ng-model="vm.settings.characterOrder" value="fixed" ng-model-options="{ updateOn: 'default blur' }"><span translate>CharacterOrderFixed</span></label>
        </td>
      </tr>
      <tr>
        <td>
          <label for="spreadsheetLinks" translate-attr="{ title: 'ExportSSHelp'}" translate>ExportSS</label>
        </td>
        <td>
          <div id="spreadsheetLinks">
            <button ng-click="vm.downloadWeaponCsv()" ng-disabled="loadingTracker.active()" title="Download Csv"> <i class="fa fa-table"></i> <span translate>Weapons</span></button>
            <button ng-click="vm.downloadArmorCsv()" ng-disabled="loadingTracker.active()" title="Download Csv"> <i class="fa fa-table"></i> <span translate>Armor</span></button>
          </div>
        </td>
      </tr>
      <tr>
        <td>
          <label for="resetHiddenInfos" translate>DIMPopups</label>
        </td>
        <td>
          <button ng-click="vm.resetHiddenInfos()" translate>DIMPopupsReset</button>
        </td>
      </tr>
    </table>
  </form>
  </div>
</div>
