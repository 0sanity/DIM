<div class="move-popup" alt="" title="">
  <div dim-move-item-properties="vm.item" dim-infuse="vm.infuse" change-details="vm.reposition()"></div>
  <dim-move-amount ng-if="vm.maximum > 1 && !vm.item.notransfer" amount="vm.moveAmount" maximum="vm.maximum" max-stack-size="vm.item.maxStackSize"></dim-move-amount>
  <div class="interaction">
    <div class="locations" ng-repeat="store in vm.stores | sortStores:vm.settings.characterOrder track by store.id">
      <div class="move-button move-vault" alt="{{ ::store.name }}" title="{{ ::store.name }}"
        ng-if="vm.canShowVault(vm.item, vm.store, store)" ng-click="vm.moveItemTo(store)"
        data-type="item" data-character="{{ ::store.id }}">
        <span translate="MovePopup.Vault"></span>
      </div>
      <div class="move-button move-equip" alt="{{ ::store.name }}" title="{{ ::store.name }}"
        ng-if="!(vm.item.owner == store.id && vm.item.equipped) && vm.item.canBeEquippedBy(store)" ng-click="vm.moveItemTo(store, true)"
        data-type="equip" data-character="{{ ::store.id }}" style="background-image: url({{ ::store.icon }})">
        <span translate="MovePopup.Equip"></span>
      </div>
      <div class="move-button move-store" alt="{{ ::store.name }}" title="{{ ::store.name }}"
        ng-if="vm.canShowStore(vm.item, vm.store, store)" ng-click="vm.moveItemTo(store)"
        data-type="item" data-character="{{ ::store.id }}" style="background-image: url({{ ::store.icon }})">
        <span translate="MovePopup.Store"></span>
      </div>
    </div>
    <div class="move-button move-consolidate" translate-attr="{ alt: 'MovePopup.Consolidate', title:'MovePopup.Consolidate' }"
      ng-if="!vm.item.notransfer && vm.item.maxStackSize > 1" ng-click="vm.consolidate()">
      <span translate="MovePopup.Take"></span>
    </div>
    <div class="move-button move-distribute" translate-attr="{ alt: 'MovePopup.DistributeEvenly', title: 'MovePopup.DistributeEvenly' }"
      ng-if="!vm.item.notransfer && vm.item.maxStackSize > 1" ng-click="vm.distribute()">
      <span translate="MovePopup.Split"></span>
    </div>
  <div class="locations">
    <div class="move-button infuse-perk" ng-if="vm.item.talentGrid.infusable" ng-click="vm.infuse(vm.item, $event)" translate-attr="{ title: 'Infusion', alt: 'Infusion.Calc' }" ng-class="vm.item.bucket.sort"></div>
  </div>
  </div>
</div>
